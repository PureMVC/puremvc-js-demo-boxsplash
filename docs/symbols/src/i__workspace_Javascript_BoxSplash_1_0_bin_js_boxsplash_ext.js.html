<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"> <style>
	.KEYW {color: #933;}
	.COMM {color: #bbb; font-style: italic;}
	.NUMB {color: #393;}
	.STRN {color: #393;}
	.REGX {color: #339;}
	.line {border-right: 1px dotted #666; color: #666; font-style: normal;}
	</style></head><body><pre><span class='line'>  1</span> <span class="NAME">Ext.namespace</span><span class="PUNC">(</span><span class="STRN">"Boxsplash"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Boxsplash.ApplicationFacade</span><span class="PUNC">=</span><span class="NAME">Ext.extend</span><span class="PUNC">(</span><span class="NAME">Puremvc.patterns.Facade</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">constructor</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.ApplicationFacade.superclass.constructor.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">initializeController</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.ApplicationFacade.superclass.initializeController.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.registerCommand</span><span class="PUNC">(</span><span class="NAME">Boxsplash.ApplicationFacade.STARTUP</span><span class="PUNC">,</span><span class="NAME">Boxsplash.Controller.StartupCommand</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.registerCommand</span><span class="PUNC">(</span><span class="NAME">Boxsplash.ApplicationFacade.RETRIEVE_CONFIG_OPTION</span><span class="PUNC">,</span><span class="NAME">Boxsplash.Controller.RetrieveConfigOptionCommand</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">startup</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">viewComponent</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.sendNotification</span><span class="PUNC">(</span><span class="NAME">Boxsplash.ApplicationFacade.STARTUP</span><span class="PUNC">,</span><span class="NAME">viewComponent</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.apply</span><span class="PUNC">(</span><span class="NAME">Boxsplash.ApplicationFacade</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">STARTUP</span><span class="PUNC">:</span><span class="STRN">"Startup"</span><span class="PUNC">,</span><span class="NAME">RETRIEVE_CONFIG_OPTION</span><span class="PUNC">:</span><span class="STRN">"retrieveConfigOption"</span><span class="PUNC">,</span><span class="NAME">TOGGLE_START_STOP</span><span class="PUNC">:</span><span class="STRN">"toggleStartStop"</span><span class="PUNC">,</span><span class="NAME">ANIMATION_STATE_CHANGED</span><span class="PUNC">:</span><span class="STRN">"animationStateChanged"</span><span class="PUNC">,</span><span class="NAME">_instance</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.apply</span><span class="PUNC">(</span><span class="NAME">Boxsplash.ApplicationFacade</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">getInstance</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">Boxsplash.ApplicationFacade._instance</span><span class="PUNC">===</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.ApplicationFacade._instance</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.ApplicationFacade</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Boxsplash.ApplicationFacade._instance</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.namespace</span><span class="PUNC">(</span><span class="STRN">"Boxsplash.Controller"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Boxsplash.Controller.StartupCommand</span><span class="PUNC">=</span><span class="NAME">Ext.extend</span><span class="PUNC">(</span><span class="NAME">Puremvc.patterns.MacroCommand</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">constructor</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.Controller.StartupCommand.superclass.constructor.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">initializeMacroCommand</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.addSubCommand</span><span class="PUNC">(</span><span class="NAME">Boxsplash.Controller.ModelPrepCommand</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.addSubCommand</span><span class="PUNC">(</span><span class="NAME">Boxsplash.Controller.ViewPrepCommand</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.namespace</span><span class="PUNC">(</span><span class="STRN">"Boxsplash.Controller"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Boxsplash.Controller.ModelPrepCommand</span><span class="PUNC">=</span><span class="NAME">Ext.extend</span><span class="PUNC">(</span><span class="NAME">Puremvc.patterns.SimpleCommand</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">constructor</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.Controller.ModelPrepCommand.superclass.constructor.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">execute</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">notification</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.facade.registerProxy</span><span class="PUNC">(</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.Model.ConfigProxy</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.namespace</span><span class="PUNC">(</span><span class="STRN">"Boxsplash.Controller"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Boxsplash.Controller.RetrieveConfigOptionCommand</span><span class="PUNC">=</span><span class="NAME">Ext.extend</span><span class="PUNC">(</span><span class="NAME">Puremvc.patterns.SimpleCommand</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">constructor</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.Controller.RetrieveConfigOptionCommand.superclass.constructor.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">execute</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">notification</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">configOptionNum</span><span class="PUNC">=</span><span class="NAME">notification.getBody</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">configProxy</span><span class="PUNC">=</span><span class="NAME">this.facade.retrieveProxy</span><span class="PUNC">(</span><span class="NAME">Boxsplash.Model.ConfigProxy.NAME</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">configProxy.retrieveConfigOption</span><span class="PUNC">(</span><span class="NAME">configOptionNum</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.namespace</span><span class="PUNC">(</span><span class="STRN">"Boxsplash.Controller"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Boxsplash.Controller.ViewPrepCommand</span><span class="PUNC">=</span><span class="NAME">Ext.extend</span><span class="PUNC">(</span><span class="NAME">Puremvc.patterns.SimpleCommand</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">constructor</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.Controller.ViewPrepCommand.superclass.constructor.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">execute</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">notification</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">shell</span><span class="PUNC">=</span><span class="NAME">notification.getBody</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.facade.registerMediator</span><span class="PUNC">(</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.View.ShellMediator</span><span class="PUNC">(</span><span class="NAME">shell</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.namespace</span><span class="PUNC">(</span><span class="STRN">"Boxsplash.Model"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Boxsplash.Model.ConfigProxy</span><span class="PUNC">=</span><span class="NAME">Ext.extend</span><span class="PUNC">(</span><span class="NAME">Puremvc.patterns.Proxy</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">constructor</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">configOptions</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.Model.VO.BoxConfigVO</span><span class="PUNC">(</span><span class="STRN">"Light"</span><span class="PUNC">,</span><span class="NUMB">20</span><span class="PUNC">,</span><span class="NUMB">50</span><span class="PUNC">,</span><span class="NUMB">500</span><span class="PUNC">,</span><span class="STRN">"#FF0000"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.Model.VO.BoxConfigVO</span><span class="PUNC">(</span><span class="STRN">"Medium-light"</span><span class="PUNC">,</span><span class="NUMB">40</span><span class="PUNC">,</span><span class="NUMB">30</span><span class="PUNC">,</span><span class="NUMB">400</span><span class="PUNC">,</span><span class="STRN">"#00FF00"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.Model.VO.BoxConfigVO</span><span class="PUNC">(</span><span class="STRN">"Medium"</span><span class="PUNC">,</span><span class="NUMB">80</span><span class="PUNC">,</span><span class="NUMB">20</span><span class="PUNC">,</span><span class="NUMB">300</span><span class="PUNC">,</span><span class="STRN">"#0000FF"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.Model.VO.BoxConfigVO</span><span class="PUNC">(</span><span class="STRN">"Heavy-medium"</span><span class="PUNC">,</span><span class="NUMB">160</span><span class="PUNC">,</span><span class="NUMB">10</span><span class="PUNC">,</span><span class="NUMB">200</span><span class="PUNC">,</span><span class="STRN">"#FF00FF"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.Model.VO.BoxConfigVO</span><span class="PUNC">(</span><span class="STRN">"Heavy (IE Killer)"</span><span class="PUNC">,</span><span class="NUMB">320</span><span class="PUNC">,</span><span class="NUMB">5</span><span class="PUNC">,</span><span class="NUMB">200</span><span class="PUNC">,</span><span class="STRN">"#00FFFF"</span><span class="PUNC">)</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">Boxsplash.Model.ConfigProxy.superclass.constructor.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">Boxsplash.Model.ConfigProxy.NAME</span><span class="PUNC">,</span><span class="NAME">configOptions</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">retrieveConfigOption</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">optionNum</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.sendNotification</span><span class="PUNC">(</span><span class="NAME">Boxsplash.Model.ConfigProxy.CONFIG_OPTION_RETRIEVED</span><span class="PUNC">,</span><span class="NAME">this.data</span><span class="PUNC">[</span><span class="NAME">optionNum</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.apply</span><span class="PUNC">(</span><span class="NAME">Boxsplash.Model.ConfigProxy</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">NAME</span><span class="PUNC">:</span><span class="STRN">"ConfigProxy"</span><span class="PUNC">,</span><span class="NAME">CONFIG_OPTION_RETRIEVED</span><span class="PUNC">:</span><span class="STRN">"configOptionRetrieved"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.namespace</span><span class="PUNC">(</span><span class="STRN">"Boxsplash.Model.VO"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Boxsplash.Model.VO.BoxConfigVO</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">id</span><span class="PUNC">,</span><span class="NAME">numBoxes</span><span class="PUNC">,</span><span class="NAME">boxSize</span><span class="PUNC">,</span><span class="NAME">focalLength</span><span class="PUNC">,</span><span class="NAME">color</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.id</span><span class="PUNC">=</span><span class="NAME">id</span><span class="PUNC">;</span><span class="NAME">this.numBoxes</span><span class="PUNC">=</span><span class="NAME">numBoxes</span><span class="PUNC">;</span><span class="NAME">this.boxSize</span><span class="PUNC">=</span><span class="NAME">boxSize</span><span class="PUNC">;</span><span class="NAME">this.focalLength</span><span class="PUNC">=</span><span class="NAME">focalLength</span><span class="PUNC">;</span><span class="NAME">this.color</span><span class="PUNC">=</span><span class="NAME">color</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">Ext.namespace</span><span class="PUNC">(</span><span class="STRN">"Boxsplash.View"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Boxsplash.View.ControlPanelMediator</span><span class="PUNC">=</span><span class="NAME">Ext.extend</span><span class="PUNC">(</span><span class="NAME">Puremvc.patterns.Mediator</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">constructor</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">viewComponent</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.View.ControlPanelMediator.superclass.constructor.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">Boxsplash.View.ControlPanelMediator.NAME</span><span class="PUNC">,</span><span class="NAME">viewComponent</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.controlPanel</span><span class="PUNC">=</span><span class="NAME">this.getViewComponent</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.configProxy</span><span class="PUNC">=</span><span class="NAME">this.facade.retrieveProxy</span><span class="PUNC">(</span><span class="NAME">Boxsplash.Model.ConfigProxy.NAME</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.loadConfigHandler</span><span class="PUNC">=</span><span class="NAME">this.loadConfigHandler.createDelegate</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.toggleStartStopHandler</span><span class="PUNC">=</span><span class="NAME">this.toggleStartStopHandler.createDelegate</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">controlPanel</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">configProxy</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">listNotificationInterests</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">[</span><span class="NAME">Boxsplash.Model.ConfigProxy.CONFIG_OPTION_RETRIEVED</span><span class="PUNC">,</span><span class="NAME">Boxsplash.ApplicationFacade.ANIMATION_STATE_CHANGED</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">handleNotification</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">notification</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">switch</span><span class="PUNC">(</span><span class="NAME">notification.getName</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">case</span><span class="WHIT"> </span><span class="NAME">Boxsplash.Model.ConfigProxy.CONFIG_OPTION_RETRIEVED</span><span class="PUNC">:</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">boxConfigVO</span><span class="PUNC">=</span><span class="NAME">notification.getBody</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.controlPanel.setConfigurationLabel</span><span class="PUNC">(</span><span class="NAME">boxConfigVO.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="WHIT"> </span><span class="NAME">Boxsplash.ApplicationFacade.ANIMATION_STATE_CHANGED</span><span class="PUNC">:</span><span class="NAME">this.controlPanel.animationStateChanged</span><span class="PUNC">(</span><span class="NAME">notification.getBody</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">onRegister</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.View.ControlPanelMediator.superclass.onRegister.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.controlPanel.addListener</span><span class="PUNC">(</span><span class="STRN">"loadConfig"</span><span class="PUNC">,</span><span class="NAME">this.loadConfigHandler</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.controlPanel.addListener</span><span class="PUNC">(</span><span class="STRN">"toggleStartStop"</span><span class="PUNC">,</span><span class="NAME">this.toggleStartStopHandler</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.controlPanel.setConfigurationButtons</span><span class="PUNC">(</span><span class="NAME">this.configProxy.data</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">onRemove</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.View.ControlPanelMediator.superclass.onRemove.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.controlPanel.removeListener</span><span class="PUNC">(</span><span class="STRN">"loadConfig"</span><span class="PUNC">,</span><span class="NAME">this.loadConfigHandler</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.controlPanel.removeListener</span><span class="PUNC">(</span><span class="STRN">"toggleStartStop"</span><span class="PUNC">,</span><span class="NAME">this.toggleStartStopHandler</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">loadConfigHandler</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">index</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.sendNotification</span><span class="PUNC">(</span><span class="NAME">Boxsplash.ApplicationFacade.RETRIEVE_CONFIG_OPTION</span><span class="PUNC">,</span><span class="NAME">index</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">toggleStartStopHandler</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.sendNotification</span><span class="PUNC">(</span><span class="NAME">Boxsplash.ApplicationFacade.TOGGLE_START_STOP</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.apply</span><span class="PUNC">(</span><span class="NAME">Boxsplash.View.ControlPanelMediator</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">NAME</span><span class="PUNC">:</span><span class="STRN">"ControlPanelMediator"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.namespace</span><span class="PUNC">(</span><span class="STRN">"Boxsplash.View"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Boxsplash.View.ShellMediator</span><span class="PUNC">=</span><span class="NAME">Ext.extend</span><span class="PUNC">(</span><span class="NAME">Puremvc.patterns.Mediator</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">shell</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">constructor</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">viewComponent</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.View.ShellMediator.superclass.constructor.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">Boxsplash.View.ShellMediator.NAME</span><span class="PUNC">,</span><span class="NAME">viewComponent</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.shell</span><span class="PUNC">=</span><span class="NAME">this.getViewComponent</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">onRegister</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.View.ShellMediator.superclass.onRegister.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.facade.registerMediator</span><span class="PUNC">(</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.View.WorldSpaceMediator</span><span class="PUNC">(</span><span class="NAME">this.shell.worldSpace</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.facade.registerMediator</span><span class="PUNC">(</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.View.ControlPanelMediator</span><span class="PUNC">(</span><span class="NAME">this.shell.controlPanel</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.apply</span><span class="PUNC">(</span><span class="NAME">Boxsplash.View.ShellMediator</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">NAME</span><span class="PUNC">:</span><span class="STRN">"ShellMediator"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.namespace</span><span class="PUNC">(</span><span class="STRN">"Boxsplash.View"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Boxsplash.View.WorldSpaceMediator</span><span class="PUNC">=</span><span class="NAME">Ext.extend</span><span class="PUNC">(</span><span class="NAME">Puremvc.patterns.Mediator</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">constructor</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">viewComponent</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.View.WorldSpaceMediator.superclass.constructor.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">Boxsplash.View.WorldSpaceMediator.NAME</span><span class="PUNC">,</span><span class="NAME">viewComponent</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.worldSpace</span><span class="PUNC">=</span><span class="NAME">this.getViewComponent</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.animationStateChangedHandler</span><span class="PUNC">=</span><span class="NAME">this.animationStateChangedHandler.createDelegate</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">worldSpace</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">onRegister</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.View.WorldSpaceMediator.superclass.onRegister.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.worldSpace.addListener</span><span class="PUNC">(</span><span class="STRN">"animationStateChanged"</span><span class="PUNC">,</span><span class="NAME">this.animationStateChangedHandler</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">onRemove</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.View.WorldSpaceMediator.superclass.onRemove.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.worldSpace.removeListener</span><span class="PUNC">(</span><span class="STRN">"animationStateChanged"</span><span class="PUNC">,</span><span class="NAME">this.animationStateChangedHandler</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">listNotificationInterests</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">[</span><span class="NAME">Boxsplash.Model.ConfigProxy.CONFIG_OPTION_RETRIEVED</span><span class="PUNC">,</span><span class="NAME">Boxsplash.ApplicationFacade.TOGGLE_START_STOP</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">handleNotification</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">notification</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">switch</span><span class="PUNC">(</span><span class="NAME">notification.getName</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">case</span><span class="WHIT"> </span><span class="NAME">Boxsplash.Model.ConfigProxy.CONFIG_OPTION_RETRIEVED</span><span class="PUNC">:</span><span class="NAME">this.worldSpace.setConfiguration</span><span class="PUNC">(</span><span class="NAME">notification.getBody</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="WHIT"> </span><span class="NAME">Boxsplash.ApplicationFacade.TOGGLE_START_STOP</span><span class="PUNC">:</span><span class="NAME">this.worldSpace.toggleStartStop</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">animationStateChangedHandler</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">inTween</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.sendNotification</span><span class="PUNC">(</span><span class="NAME">Boxsplash.ApplicationFacade.ANIMATION_STATE_CHANGED</span><span class="PUNC">,</span><span class="NAME">inTween</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.apply</span><span class="PUNC">(</span><span class="NAME">Boxsplash.View.WorldSpaceMediator</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">NAME</span><span class="PUNC">:</span><span class="STRN">"WorldSpaceMediator"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.namespace</span><span class="PUNC">(</span><span class="STRN">"Boxsplash.View.Components.Core"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Boxsplash.View.Components.Core.UIComponent</span><span class="PUNC">=</span><span class="NAME">Ext.extend</span><span class="PUNC">(</span><span class="NAME">Ext.util.Observable</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">initialized</span><span class="PUNC">:</span><span class="KEYW">false</span><span class="PUNC">,</span><span class="NAME">element</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">constructor</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">element</span><span class="PUNC">,</span><span class="NAME">config</span><span class="PUNC">,</span><span class="NAME">styles</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">element</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.element</span><span class="PUNC">=</span><span class="NAME">Boxsplash.View.Components.Core.UIComponent.buildElement</span><span class="PUNC">(</span><span class="NAME">element</span><span class="PUNC">,</span><span class="NAME">styles</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">config</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">config.events</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.addEvents</span><span class="PUNC">(</span><span class="NAME">config.events</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">config.listeners</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.listeners</span><span class="PUNC">=</span><span class="NAME">config.listeners</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">Boxsplash.View.Components.Core.UIComponent.superclass.constructor.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">config</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">Boxsplash.View.Components.Core.UIComponent.superclass.constructor.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">initializeChildren</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">childrenInitialized</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">initializationComplete</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.initialized</span><span class="PUNC">=</span><span class="KEYW">true</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">addChild</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">child</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.element.appendChild</span><span class="PUNC">(</span><span class="NAME">child.element</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">child.initializeChildren</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">child.childrenInitialized</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">child.initializationComplete</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.apply</span><span class="PUNC">(</span><span class="NAME">Boxsplash.View.Components.Core.UIComponent</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">buildElement</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">element</span><span class="PUNC">,</span><span class="NAME">styles</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">el</span><span class="PUNC">=</span><span class="KEYW">null</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">element</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">Ext.isString</span><span class="PUNC">(</span><span class="NAME">element</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="NAME">Ext.isElement</span><span class="PUNC">(</span><span class="NAME">element</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">el</span><span class="PUNC">=</span><span class="NAME">Ext.get</span><span class="PUNC">(</span><span class="NAME">element</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">el</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">el</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Ext.Element</span><span class="PUNC">(</span><span class="NAME">el</span><span class="PUNC">,</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">Ext.isObject</span><span class="PUNC">(</span><span class="NAME">element</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">el</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Ext.Element</span><span class="PUNC">(</span><span class="NAME">Ext.DomHelper.createDom</span><span class="PUNC">(</span><span class="NAME">element</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">styles</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">Ext.isObject</span><span class="PUNC">(</span><span class="NAME">styles</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Ext.DomHelper.applyStyles</span><span class="PUNC">(</span><span class="NAME">el.dom</span><span class="PUNC">,</span><span class="NAME">styles</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">el</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">buildComponent</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">element</span><span class="PUNC">,</span><span class="NAME">styles</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">el</span><span class="PUNC">=</span><span class="NAME">Boxsplash.View.Components.Core.UIComponent.buildElement</span><span class="PUNC">(</span><span class="NAME">element</span><span class="PUNC">,</span><span class="NAME">styles</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">component</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.View.Components.Core.UIComponent</span><span class="PUNC">(</span><span class="NAME">el</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">component</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.namespace</span><span class="PUNC">(</span><span class="STRN">"Boxsplash.View.Components"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Boxsplash.View.Components.Box</span><span class="PUNC">=</span><span class="NAME">Ext.extend</span><span class="PUNC">(</span><span class="NAME">Boxsplash.View.Components.Core.UIComponent</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">constructor</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">unscaledWidth</span><span class="PUNC">,</span><span class="NAME">unscaledHeight</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.unscaledWidth</span><span class="PUNC">=</span><span class="NAME">unscaledWidth</span><span class="PUNC">;</span><span class="NAME">this.unscaledHeight</span><span class="PUNC">=</span><span class="NAME">unscaledHeight</span><span class="PUNC">;</span><span class="NAME">Boxsplash.View.Components.Box.superclass.constructor.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">tag</span><span class="PUNC">:</span><span class="STRN">"div"</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">position</span><span class="PUNC">:</span><span class="STRN">"absolute"</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">this.unscaledWidth</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">this.unscaledHeight</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">posX</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">posY</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">posZ</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">unscaledWidth</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">unscaledHeight</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.namespace</span><span class="PUNC">(</span><span class="STRN">"Boxsplash.View.Components"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Boxsplash.View.Components.ControlPanel</span><span class="PUNC">=</span><span class="NAME">Ext.extend</span><span class="PUNC">(</span><span class="NAME">Boxsplash.View.Components.Core.UIComponent</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">constructor</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.View.Components.ControlPanel.superclass.constructor.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="STRN">"control-panel"</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">events</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">loadConfig</span><span class="PUNC">:</span><span class="KEYW">true</span><span class="PUNC">,</span><span class="NAME">toggleStartStop</span><span class="PUNC">:</span><span class="KEYW">true</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.button_clickHandler</span><span class="PUNC">=</span><span class="NAME">this.button_clickHandler.createDelegate</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.startStop_clickHandler</span><span class="PUNC">=</span><span class="NAME">this.startStop_clickHandler.createDelegate</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">headerLabel</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">availableConfigsLabel</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">currentConfigLabel</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">configButtons</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">stopStartButton</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">initializeChildren</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.headerLabel</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.View.Components.Core.UIComponent</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">tag</span><span class="PUNC">:</span><span class="STRN">"h1"</span><span class="PUNC">,</span><span class="NAME">id</span><span class="PUNC">:</span><span class="STRN">"header-label"</span><span class="PUNC">,</span><span class="NAME">html</span><span class="PUNC">:</span><span class="STRN">"Control Panel"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.addChild</span><span class="PUNC">(</span><span class="NAME">this.headerLabel</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.availableConfigsLabel</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.View.Components.Core.UIComponent</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">tag</span><span class="PUNC">:</span><span class="STRN">"p"</span><span class="PUNC">,</span><span class="NAME">id</span><span class="PUNC">:</span><span class="STRN">"available-configs-label"</span><span class="PUNC">,</span><span class="NAME">html</span><span class="PUNC">:</span><span class="STRN">"Available Configurations:"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.addChild</span><span class="PUNC">(</span><span class="NAME">this.availableConfigsLabel</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.currentConfigLabel</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.View.Components.Core.UIComponent</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">tag</span><span class="PUNC">:</span><span class="STRN">"p"</span><span class="PUNC">,</span><span class="NAME">id</span><span class="PUNC">:</span><span class="STRN">"current-config-label"</span><span class="PUNC">,</span><span class="NAME">html</span><span class="PUNC">:</span><span class="STRN">"Now Displaying:"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.addChild</span><span class="PUNC">(</span><span class="NAME">this.currentConfigLabel</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.stopStartButton</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.View.Components.Core.UIComponent</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">tag</span><span class="PUNC">:</span><span class="STRN">"button"</span><span class="PUNC">,</span><span class="NAME">id</span><span class="PUNC">:</span><span class="STRN">"startButton"</span><span class="PUNC">,</span><span class="NAME">html</span><span class="PUNC">:</span><span class="STRN">"Start"</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">position</span><span class="PUNC">:</span><span class="STRN">"absolute"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.addChild</span><span class="PUNC">(</span><span class="NAME">this.stopStartButton</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">childrenInitialized</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.stopStartButton.element.addListener</span><span class="PUNC">(</span><span class="STRN">"click"</span><span class="PUNC">,</span><span class="NAME">this.startStop_clickHandler</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">initializationComplete</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.View.Components.ControlPanel.superclass.initializationComplete.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">setConfigurationButtons</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">button</span><span class="PUNC">=</span><span class="KEYW">null</span><span class="PUNC">;</span><span class="KEYW">while</span><span class="PUNC">(</span><span class="NAME">this.configButtons.length</span><span class="PUNC">></span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">button</span><span class="PUNC">=</span><span class="NAME">this.configButtons.pop</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.removeNode</span><span class="PUNC">(</span><span class="NAME">button.element</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">this.configButtons</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">posY</span><span class="PUNC">=</span><span class="NUMB">50</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">len</span><span class="PUNC">=</span><span class="NAME">value.length</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">&lt;</span><span class="NAME">len</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">boxConfigVO</span><span class="PUNC">=</span><span class="NAME">value</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">buttonId</span><span class="PUNC">=</span><span class="STRN">"_button"</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">button</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.View.Components.Core.UIComponent</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">tag</span><span class="PUNC">:</span><span class="STRN">"button"</span><span class="PUNC">,</span><span class="NAME">id</span><span class="PUNC">:</span><span class="NAME">buttonId</span><span class="PUNC">,</span><span class="NAME">html</span><span class="PUNC">:</span><span class="NAME">boxConfigVO.id</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">position</span><span class="PUNC">:</span><span class="STRN">"absolute"</span><span class="PUNC">,</span><span class="NAME">top</span><span class="PUNC">:</span><span class="NAME">posY</span><span class="PUNC">,</span><span class="NAME">left</span><span class="PUNC">:</span><span class="NUMB">5</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NUMB">150</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">button.element.dom.__index</span><span class="PUNC">=</span><span class="NAME">i</span><span class="PUNC">;</span><span class="NAME">button.element.addListener</span><span class="PUNC">(</span><span class="STRN">"click"</span><span class="PUNC">,</span><span class="NAME">this.button_clickHandler</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.configButtons.push</span><span class="PUNC">(</span><span class="NAME">button</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.addChild</span><span class="PUNC">(</span><span class="NAME">button</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">posY</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">button.element.getHeight</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">Ext.DomHelper.applyStyles</span><span class="PUNC">(</span><span class="NAME">this.currentConfigLabel.element.dom</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">top</span><span class="PUNC">:</span><span class="NAME">posY.toString</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">posY</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">this.currentConfigLabel.element.getHeight</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NUMB">10</span><span class="PUNC">;</span><span class="NAME">Ext.DomHelper.applyStyles</span><span class="PUNC">(</span><span class="NAME">this.stopStartButton.element.dom</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">top</span><span class="PUNC">:</span><span class="PUNC">(</span><span class="NAME">posY</span><span class="PUNC">+</span><span class="NUMB">10</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">toString</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">setConfigurationLabel</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Ext.fly</span><span class="PUNC">(</span><span class="STRN">"current-config-label"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">update</span><span class="PUNC">(</span><span class="STRN">"Now Displaying: "</span><span class="PUNC">+</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">animationStateChanged</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">inTween</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">wrapper</span><span class="PUNC">=</span><span class="NAME">Ext.fly</span><span class="PUNC">(</span><span class="STRN">"startButton"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">inTween</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">wrapper.update</span><span class="PUNC">(</span><span class="STRN">"Stop"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">wrapper.update</span><span class="PUNC">(</span><span class="STRN">"Start"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">button_clickHandler</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">event</span><span class="PUNC">,</span><span class="NAME">target</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">buttonElement</span><span class="PUNC">=</span><span class="NAME">target</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">index</span><span class="PUNC">=</span><span class="NAME">buttonElement.__index</span><span class="PUNC">;</span><span class="NAME">this.fireEvent</span><span class="PUNC">(</span><span class="STRN">"loadConfig"</span><span class="PUNC">,</span><span class="NAME">index</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">startStop_clickHandler</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">event</span><span class="PUNC">,</span><span class="NAME">target</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.fireEvent</span><span class="PUNC">(</span><span class="STRN">"toggleStartStop"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.namespace</span><span class="PUNC">(</span><span class="STRN">"Boxsplash.View.Components"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Boxsplash.View.Components.Shell</span><span class="PUNC">=</span><span class="NAME">Ext.extend</span><span class="PUNC">(</span><span class="NAME">Boxsplash.View.Components.Core.UIComponent</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">constructor</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.View.Components.Shell.superclass.constructor.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="STRN">"shell"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">controlPanel</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">worldSpace</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">initializeChildren</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.controlPanel</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.View.Components.ControlPanel</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.addChild</span><span class="PUNC">(</span><span class="NAME">this.controlPanel</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.worldSpace</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.View.Components.WorldSpace</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.addChild</span><span class="PUNC">(</span><span class="NAME">this.worldSpace</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.namespace</span><span class="PUNC">(</span><span class="STRN">"Boxsplash.View.Components"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Boxsplash.View.Components.WorldSpace</span><span class="PUNC">=</span><span class="NAME">Ext.extend</span><span class="PUNC">(</span><span class="NAME">Boxsplash.View.Components.Core.UIComponent</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">constructor</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Boxsplash.View.Components.WorldSpace.superclass.constructor.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="STRN">"world-space"</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">events</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">animationStateChanged</span><span class="PUNC">:</span><span class="KEYW">true</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.mouseMoveHandler</span><span class="PUNC">=</span><span class="NAME">this.mouseMoveHandler.createDelegate</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.tick</span><span class="PUNC">=</span><span class="NAME">this.tick.createDelegate</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.startAnimation</span><span class="PUNC">=</span><span class="NAME">this.startAnimation.createDelegate</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.stopAnimation</span><span class="PUNC">=</span><span class="NAME">this.stopAnimation.createDelegate</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">inTween</span><span class="PUNC">:</span><span class="KEYW">false</span><span class="PUNC">,</span><span class="NAME">boxes</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">focalLength</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">angle</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">vp</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">currentConfig</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">setConfiguration</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.currentConfig</span><span class="PUNC">!=</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.currentConfig</span><span class="PUNC">=</span><span class="NAME">value</span><span class="PUNC">;</span><span class="NAME">this.stopAnimation</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.removeAllBoxes</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.createWorldFromConfig</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.startAnimation</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">toggleStartStop</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.inTween</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.stopAnimation</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">this.startAnimation</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.inTween</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">task</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">run</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">interval</span><span class="PUNC">:</span><span class="NUMB">10</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">removeAllBoxes</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">while</span><span class="PUNC">(</span><span class="NAME">this.boxes.length</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Ext.removeNode</span><span class="PUNC">(</span><span class="NAME">this.boxes.pop</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">element.dom</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">createWorldFromConfig</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.currentConfig</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.focalLength</span><span class="PUNC">=</span><span class="NAME">this.currentConfig.focalLength</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">numBoxes</span><span class="PUNC">=</span><span class="NAME">this.currentConfig.numBoxes</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">color</span><span class="PUNC">=</span><span class="NAME">this.currentConfig.color</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">boxSize</span><span class="PUNC">=</span><span class="NAME">this.currentConfig.boxSize</span><span class="PUNC">;</span><span class="KEYW">while</span><span class="PUNC">(</span><span class="NAME">numBoxes</span><span class="PUNC">--</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">box</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Boxsplash.View.Components.Box</span><span class="PUNC">(</span><span class="NAME">boxSize</span><span class="PUNC">,</span><span class="NAME">boxSize</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">box.posX</span><span class="PUNC">=</span><span class="NAME">Math.random</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">250</span><span class="PUNC">-</span><span class="NUMB">125</span><span class="PUNC">;</span><span class="NAME">box.posY</span><span class="PUNC">=</span><span class="NAME">Math.random</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">250</span><span class="PUNC">-</span><span class="NUMB">125</span><span class="PUNC">;</span><span class="NAME">box.posZ</span><span class="PUNC">=</span><span class="NAME">Math.random</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">this.focalLength</span><span class="PUNC">-</span><span class="PUNC">(</span><span class="NAME">this.focalLength</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">box.element.setStyle</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">background</span><span class="PUNC">:</span><span class="NAME">color</span><span class="PUNC">,</span><span class="NAME">border</span><span class="PUNC">:</span><span class="STRN">"1px solid #FFF"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.boxes.push</span><span class="PUNC">(</span><span class="NAME">box</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.addChild</span><span class="PUNC">(</span><span class="NAME">box</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">startAnimation</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.inTween</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">worldSpace</span><span class="PUNC">=</span><span class="NAME">this.element</span><span class="PUNC">;</span><span class="NAME">this.vp.x</span><span class="PUNC">=</span><span class="NAME">worldSpace.getWidth</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">;</span><span class="NAME">this.vp.y</span><span class="PUNC">=</span><span class="NAME">worldSpace.getHeight</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.boxes.length</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.element.addListener</span><span class="PUNC">(</span><span class="STRN">"mousemove"</span><span class="PUNC">,</span><span class="NAME">this.mouseMoveHandler</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.task.run</span><span class="PUNC">=</span><span class="NAME">this.tick</span><span class="PUNC">;</span><span class="NAME">Ext.TaskMgr.start</span><span class="PUNC">(</span><span class="NAME">this.task</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.inTween</span><span class="PUNC">=</span><span class="KEYW">true</span><span class="PUNC">;</span><span class="NAME">this.fireEvent</span><span class="PUNC">(</span><span class="STRN">"animationStateChanged"</span><span class="PUNC">,</span><span class="NAME">this.inTween</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">stopAnimation</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.inTween</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.element.removeListener</span><span class="PUNC">(</span><span class="STRN">"mousemove"</span><span class="PUNC">,</span><span class="NAME">this.mouseMoveHandler</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">Ext.TaskMgr.stop</span><span class="PUNC">(</span><span class="NAME">this.task</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.task.run</span><span class="PUNC">=</span><span class="NAME">this.tick</span><span class="PUNC">;</span><span class="NAME">this.angle</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">this.inTween</span><span class="PUNC">=</span><span class="KEYW">false</span><span class="PUNC">;</span><span class="NAME">this.fireEvent</span><span class="PUNC">(</span><span class="STRN">"animationStateChanged"</span><span class="PUNC">,</span><span class="NAME">this.inTween</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">tick</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">this.boxes.length</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">rads</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">this.angle</span><span class="PUNC">*</span><span class="NAME">Math.PI</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">180</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">cos</span><span class="PUNC">=</span><span class="NAME">Math.cos</span><span class="PUNC">(</span><span class="NAME">rads</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">sin</span><span class="PUNC">=</span><span class="NAME">Math.sin</span><span class="PUNC">(</span><span class="NAME">rads</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">while</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">--</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">box</span><span class="PUNC">=</span><span class="NAME">this.boxes</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">x1</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">box.posX</span><span class="PUNC">*</span><span class="NAME">cos</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="PUNC">(</span><span class="NAME">box.posZ</span><span class="PUNC">*</span><span class="NAME">sin</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">z1</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">box.posZ</span><span class="PUNC">*</span><span class="NAME">cos</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">box.posX</span><span class="PUNC">*</span><span class="NAME">sin</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">scale</span><span class="PUNC">=</span><span class="NAME">this.focalLength</span><span class="PUNC">/</span><span class="PUNC">(</span><span class="NAME">this.focalLength</span><span class="PUNC">+</span><span class="NAME">box.posZ</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">progress</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">z1</span><span class="PUNC">></span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">?</span><span class="NAME">z1</span><span class="PUNC">/</span><span class="PUNC">(</span><span class="NAME">this.focalLength</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bgColor</span><span class="PUNC">=</span><span class="NAME">this.interpolateColor</span><span class="PUNC">(</span><span class="NAME">this.currentConfig.color</span><span class="PUNC">,</span><span class="STRN">"#222222"</span><span class="PUNC">,</span><span class="NAME">progress</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">borderColor</span><span class="PUNC">=</span><span class="NAME">this.interpolateColor</span><span class="PUNC">(</span><span class="STRN">"#FFFFFF"</span><span class="PUNC">,</span><span class="STRN">"#010101"</span><span class="PUNC">,</span><span class="NAME">progress</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">box.posX</span><span class="PUNC">=</span><span class="NAME">x1</span><span class="PUNC">;</span><span class="NAME">box.posZ</span><span class="PUNC">=</span><span class="NAME">z1</span><span class="PUNC">;</span><span class="NAME">box.element.setStyle</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">left</span><span class="PUNC">:</span><span class="NAME">this.vp.x</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">box.posX</span><span class="PUNC">*</span><span class="NAME">scale</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">top</span><span class="PUNC">:</span><span class="NAME">this.vp.y</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">box.posY</span><span class="PUNC">*</span><span class="NAME">scale</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">box.unscaledWidth</span><span class="PUNC">*</span><span class="NAME">scale</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">box.unscaledHeight</span><span class="PUNC">*</span><span class="NAME">scale</span><span class="PUNC">,</span><span class="STRN">"background-color"</span><span class="PUNC">:</span><span class="NAME">bgColor</span><span class="PUNC">,</span><span class="STRN">"border-color"</span><span class="PUNC">:</span><span class="NAME">borderColor</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">this.sortZ</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">sortZ</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">copy</span><span class="PUNC">=</span><span class="NAME">this.boxes.concat</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">copy.sort</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">,</span><span class="NAME">b</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">retVal</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">b.posZ</span><span class="PUNC">==</span><span class="NAME">a.posZ</span><span class="PUNC">?</span><span class="NUMB">0</span><span class="PUNC">:</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">b.posZ</span><span class="PUNC">></span><span class="NAME">a.posZ</span><span class="PUNC">?</span><span class="NUMB">1</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">retVal</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">count</span><span class="PUNC">=</span><span class="NAME">copy.length</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">&lt;</span><span class="NAME">count</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">zIndex</span><span class="PUNC">=</span><span class="NAME">count</span><span class="PUNC">-</span><span class="NAME">i</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">box</span><span class="PUNC">=</span><span class="NAME">copy</span><span class="PUNC">[</span><span class="NAME">zIndex</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">box.element.setStyle</span><span class="PUNC">(</span><span class="STRN">"z-index"</span><span class="PUNC">,</span><span class="NAME">zIndex</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">interpolateColor</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">originalColorHex</span><span class="PUNC">,</span><span class="NAME">newColorHex</span><span class="PUNC">,</span><span class="NAME">progress</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">originalColor</span><span class="PUNC">=</span><span class="NAME">parseInt</span><span class="PUNC">(</span><span class="NAME">originalColorHex.replace</span><span class="PUNC">(</span><span class="STRN">"#"</span><span class="PUNC">,</span><span class="STRN">"0x"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">newColor</span><span class="PUNC">=</span><span class="NAME">parseInt</span><span class="PUNC">(</span><span class="NAME">newColorHex.replace</span><span class="PUNC">(</span><span class="STRN">"#"</span><span class="PUNC">,</span><span class="STRN">"0x"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">origRed</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">originalColor</span><span class="PUNC">&</span><span class="NUMB">16711680</span><span class="PUNC">)</span><span class="PUNC">>></span><span class="NUMB">16</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">origGreen</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">originalColor</span><span class="PUNC">&</span><span class="NUMB">65280</span><span class="PUNC">)</span><span class="PUNC">>></span><span class="NUMB">8</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">origBlue</span><span class="PUNC">=</span><span class="NAME">originalColor</span><span class="PUNC">&</span><span class="NUMB">255</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">newRed</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">newColor</span><span class="PUNC">&</span><span class="NUMB">16711680</span><span class="PUNC">)</span><span class="PUNC">>></span><span class="NUMB">16</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">newGreen</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">newColor</span><span class="PUNC">&</span><span class="NUMB">65280</span><span class="PUNC">)</span><span class="PUNC">>></span><span class="NUMB">8</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">newBlue</span><span class="PUNC">=</span><span class="NAME">newColor</span><span class="PUNC">&</span><span class="NUMB">255</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">diffRed</span><span class="PUNC">=</span><span class="NAME">newRed</span><span class="PUNC">-</span><span class="NAME">origRed</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">diffGreen</span><span class="PUNC">=</span><span class="NAME">newGreen</span><span class="PUNC">-</span><span class="NAME">origGreen</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">diffBlue</span><span class="PUNC">=</span><span class="NAME">newBlue</span><span class="PUNC">-</span><span class="NAME">origBlue</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">interpolatedRed</span><span class="PUNC">=</span><span class="NAME">origRed</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">diffRed</span><span class="PUNC">*</span><span class="NAME">progress</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">interpolatedGreen</span><span class="PUNC">=</span><span class="NAME">origGreen</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">diffGreen</span><span class="PUNC">*</span><span class="NAME">progress</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">interpolatedBlue</span><span class="PUNC">=</span><span class="NAME">origBlue</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">diffBlue</span><span class="PUNC">*</span><span class="NAME">progress</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">payload</span><span class="PUNC">=</span><span class="NAME">Math.abs</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">interpolatedRed</span><span class="PUNC">&lt;&lt;</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">|</span><span class="PUNC">(</span><span class="NAME">interpolatedGreen</span><span class="PUNC">&lt;&lt;</span><span class="NUMB">8</span><span class="PUNC">)</span><span class="PUNC">|</span><span class="NAME">interpolatedBlue</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="STRN">"#"</span><span class="PUNC">+</span><span class="NAME">this.rgbToHex</span><span class="PUNC">(</span><span class="PUNC">[</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">payload</span><span class="PUNC">&</span><span class="NUMB">16711680</span><span class="PUNC">)</span><span class="PUNC">>></span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="PUNC">(</span><span class="NAME">payload</span><span class="PUNC">&</span><span class="NUMB">65280</span><span class="PUNC">)</span><span class="PUNC">>></span><span class="NUMB">8</span><span class="PUNC">,</span><span class="NAME">payload</span><span class="PUNC">&</span><span class="NUMB">255</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">mouseMoveHandler</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">event</span><span class="PUNC">,</span><span class="NAME">target</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">event.preventDefault</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">newAngle</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">event.getXY</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NAME">this.element.getX</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="NAME">this.vp.x</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">0.01</span><span class="PUNC">;</span><span class="NAME">this.angle</span><span class="PUNC">=</span><span class="NAME">newAngle</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">rgbToHex</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">value</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">_toHex</span><span class="PUNC">(</span><span class="NAME">N</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">N</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="STRN">"00"</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">N</span><span class="PUNC">=</span><span class="NAME">parseInt</span><span class="PUNC">(</span><span class="NAME">N</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">N</span><span class="PUNC">==</span><span class="NUMB">0</span><span class="PUNC">||</span><span class="NAME">isNaN</span><span class="PUNC">(</span><span class="NAME">N</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="STRN">"00"</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">N</span><span class="PUNC">=</span><span class="NAME">Math.max</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">N</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">N</span><span class="PUNC">=</span><span class="NAME">Math.min</span><span class="PUNC">(</span><span class="NAME">N</span><span class="PUNC">,</span><span class="NUMB">255</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">N</span><span class="PUNC">=</span><span class="NAME">Math.round</span><span class="PUNC">(</span><span class="NAME">N</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="STRN">"0123456789ABCDEF"</span><span class="PUNC">.</span><span class="NAME">charAt</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">N</span><span class="PUNC">-</span><span class="NAME">N</span><span class="PUNC">%</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="STRN">"0123456789ABCDEF"</span><span class="PUNC">.</span><span class="NAME">charAt</span><span class="PUNC">(</span><span class="NAME">N</span><span class="PUNC">%</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">value</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">G</span><span class="PUNC">=</span><span class="NAME">value</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">B</span><span class="PUNC">=</span><span class="NAME">value</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">_toHex</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NAME">_toHex</span><span class="PUNC">(</span><span class="NAME">G</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NAME">_toHex</span><span class="PUNC">(</span><span class="NAME">B</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span></pre></body></html>